## Task 2.1: Баг-репорты API сервиса объявлений

---

### 1. Некорректные значения статистики по объявлению через GET /api/1/statistic
- **Тест-кейс**: [TC-GET-004](#TC-GET-004)  
- **Шаги воспроизведения:**
  1. Создать объявление со статистикой:
     ```json
     "statistics": {
       "likes": 5421,
       "viewCount": 56723,
       "contacts": 90
     }
     ```
  2. Запросить статистику через GET /api/1/statistic/{id}
  
- **Ожидаемый результат:**
  - Возвращаются переданные значения статистики
     ```json
     "statistics": {
       "likes": 5421,
       "viewCount": 56723,
       "contacts": 90
     }
     ```
  
- **Фактический результат:**
  - Возвращаются некорректные значения (likes: 1 вместо 5421)
      ```json
   [
    {
        "contacts": 2,
        "likes": 1,
        "viewCount": 1
    }
   ]
     ```
  
- **Приоритет:** High  
- **Влияние:** Невозможно получить актуальную статистику объявлений  

---

### 2. Неверные значения статистики через GET /api/2/statistic (TC-GET-007)

- **Шаги воспроизведения:**
  1. Создать объявление с любой заполненной статистикой
  2. Запросить через GET /api/2/statistic/{id}
  
- **Ожидаемый результат:**
  - Корректные значения статистики
  
- **Фактический результат:**
  - Возвращаются значения 999999999 для всех полей
    ```json
   [
    {
        "contacts": 999999999,
        "likes": 999999999,
        "viewCount": 999999999
    }
   ]
  ```
- **Приоритет:** High  
- **Влияние:** Полностью нарушена логика работы со статистикой  

---

### 3. Отсутствие валидации отрицательной цены при сохранении объявления POST /api/1/item (TC-POST-002)

- **Шаги воспроизведения:**
  1. Отправить POST /api/1/item с отрицательным price:
     ```json
     "price": -1500
     ```
  
- **Ожидаемый результат:**
  - Ошибка 400 Bad Request
  
- **Фактический результат:**
  - Запрос проходит успешно (200 OK)
  
- **Приоритет:** Medium  
- **Влияние:** Возможность создания объявлений с некорректной ценой  

---

### 4. Отсутствие валидации sellerId out of range [111111, 999999] при сохранении объявления POST /api/1/item (TC-POST-003)

- **Шаги воспроизведения:**
  1. Отправить POST /api/1/item с невалидным sellerId:
     ```json
     "sellerId": 0
     ```
  
- **Ожидаемый результат:**
  - Ошибка 400 Bad Request
  
- **Фактический результат:**
  - Запрос проходит успешно (200 OK)
  
- **Приоритет:** Medium  
- **Влияние:** Возможность создания объявлений с некорректным sellerId  

---

### 5. Пустое тело запроса не валидируется при сохранении объявления POST /api/1/item (TC-POST-004)

- **Шаги воспроизведения:**
  1. Отправить POST /api/1/item с пустым телом (`{}`)
  
- **Ожидаемый результат:**
  - Ошибка 400 Bad Request
  
- **Фактический результат:**
  - Создается "пустое" объявление (200 OK)
   
- **Приоритет:** High  
- **Влияние:** Возможность создания битых объявлений  

---

### 6. Неполное тело ответа сохранения объявления POST /api/1/item с отсутствующим полем id (TC-POST-005)
- **Шаги воспроизведения:**
  1. Отправить POST /api/1/item с корректными значениями:
  ```json
  {
  "sellerId": 111111,
  "name": "Product",
  "price": 100,
  "statistics": {
    "likes": 4,
    "viewCount": 20,
    "contacts": 2
  }
}
  ```
  
- **Ожидаемый результат:**
  - Отдельно хранимое поле id объявления
```json
  {
    "id": "string (UUID)",
    "status": "string"
  }
  ```
  
- **Фактический результат:**
  - тело ответа содержит 1 поле status типа string:
 ```json
 {
   "status": "Сохранили объявление - 9f14dcbe-9cff-4256-a090-3218ff670482"
 }
 ```  
- **Приоритет:** Low 
- **Влияние:** Неприоритетно, т.к. можно "доставать" id из среза строки поля status  

### Дополнительные замечания:
1. Для всех багов приложены автоматизированные тесты (см. соответствующие TC-*)
2. Проблемы воспроизводятся стабильно
3. Требуется доработка:
   - Валидации входных данных
   - Логики работы со статистикой
   - Обработки пустых запросов
